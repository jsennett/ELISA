        .text
main:

    # load length value and array address
    #     r1 = passes remaining
    #     r2 = iterations remaining in current pass
    #     r3 = address of left element to compare;
    #          the adjacent right element is 1(r3)
    lw $r1 length
    lw $r2 length
    la $r3 array

loop:
    beq $r1 $zero exit      # If no swaps occured, the array is sorted.
    addi $r1 $r1 -1    # Decrement counter
    addi $r2 $r2 -1    # Decrement counter
    blez $r2 reset     # Once a pass is complete, reset to start
    
    lw $r4 0($r3)      # load left
    lw $r5 1($r3)      # load right

    slt $r6 $r5 $r4        # check if swap needed
    bgtz $r6 yes_swap   # if swap needed, branch
    beq $r4 $r5 no_swap    # if left > right, swap
    addi $r3 $r3 4         # Increment position by 0x4
    j loop

yes_swap:
    sw $r5 0($r3)          # place right word left
    sw $r4 1($r3)          # place left word right
    addi $r3 $r3 4         # increment array position
    lw $r1 length  # $r1 back to length
    j loop 

no_swap:
    addi $r3 $r3 4
    j loop
    
exit:
    syscall
    syscall
    syscall

reset: 
    la $r3 array  # reset to start of word
    lw $r2 length         # Reset counter to word length
    j loop

.data
    array: [85, 326, 131, 387, 483, 135, 306, 335, 501, 97, 127, 422, 341, 93, 422, 221, 477, 56, 120, 366, 364, 52, 232, 385, 403, 262, 221, 52, 370, 386, 60, 273, 94, 402, 345, 231, 194, 368, 221, 463, 174, 163, 496, 176, 264, 378, 159, 409, 112, 62, 450, 501, 224, 188, 297, 172, 349, 369, 321, 13, 474, 471, 235, 186, 70, 354, 228, 435, 206, 219, 156, 366, 167, 39, 208, 468, 194, 273, 49, 441, 423, 304, 506, 301, 453, 331, 305, 132, 470, 233, 474, 299, 164, 418, 154, 447, 43, 182, 89, 480, 224, 156, 445, 66, 302, 418, 4, 151, 308, 20, 191, 169, 237, 261, 473, 126, 188, 20, 150, 62, 121, 407, 412, 424, 73, 360, 121, 172, 362, 489, 307, 11, 417, 114, 154, 397, 509, 285, 430, 466, 158, 442, 256, 407, 312, 315, 325, 312, 135, 22, 104, 62, 326, 298, 21, 316, 492, 249, 122, 33, 197, 64, 147, 38, 11, 387, 443, 250, 176, 80, 350, 294, 315, 350, 180, 79, 307, 250, 122, 125, 18, 510, 491, 46, 416, 457, 143, 340, 50, 180, 448, 282, 4, 342, 61, 409, 34, 342, 142, 259, 159, 273, 32, 449, 237, 362, 227, 370, 408, 224, 410, 54, 270, 1, 502, 379, 140, 273, 91, 300, 337, 147, 65, 399, 197, 293, 405, 478, 118, 208, 76, 32, 161, 139, 223, 70, 245, 33, 263, 167, 9, 277, 37, 319, 155, 37, 251, 301, 118, 106, 39, 81, 159, 327, 212, 429, 262, 189, 502, 39, 316, 54, 17, 465, 216, 118, 132, 471, 502, 22, 102, 156, 149, 43, 45, 56, 437, 458, 300, 491, 198, 414, 305, 247, 380, 445, 274, 301, 17, 426, 160, 14, 69, 486, 403, 100, 490, 496, 102, 301, 9, 356, 492, 465, 176, 274, 137, 312, 386, 187, 137, 334, 455, 464, 104, 191, 140, 51, 236, 393, 347, 390, 397, 495, 122, 485, 123, 476, 140, 378, 224, 227, 382, 119, 421, 321, 1, 359, 60, 440, 285, 381, 129, 488, 62, 271, 169, 163, 506, 400, 77, 165, 36, 412, 154, 209, 69, 391, 432, 417, 497, 152, 427, 47, 255, 137, 373, 398, 400, 290, 343, 180, 45, 440, 375, 36, 378, 370, 345, 63, 160, 509, 369, 121, 424, 469, 163, 311, 494, 207, 108, 377, 18, 1, 274, 105, 226, 204, 297, 448, 119, 423, 146, 427, 142, 435, 441, 508, 87, 331, 203, 193, 226, 188, 388, 502, 223, 246, 146, 298, 357, 263, 467, 459, 347, 158, 241, 66, 370, 385, 243, 160, 423, 461, 188, 96, 473, 364, 240, 171, 440, 156, 485, 502, 16, 117, 81, 80, 382, 497, 305, 472, 246, 290, 247, 124, 316, 509, 88, 274, 502, 74, 150, 211, 468, 146, 423, 177, 185, 128, 376, 476, 16, 338, 197, 375, 61, 295, 311, 240, 70, 135, 287, 17, 506, 83, 82, 290, 129, 351, 322, 69, 300, 194, 421, 113, 290, 151, 456, 67, 360, 484, 215, 334, 210, 435, 198, 212, 230, 417, 116, 75]
    length: 512
